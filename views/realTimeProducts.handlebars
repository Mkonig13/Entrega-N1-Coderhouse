<section class="card" id="realtime-products">
  <h2>Lista de productos (Tiempo real con WebSockets)</h2>

  <div id="products-container">
    {{#if products.length}}
      <ul id="products-list">
        {{#each products}}
          <li data-id="{{this.id}}">
            <strong>{{this.title}}</strong>
            - ${{this.price}}
            (ID: {{this.id}})
          </li>
        {{/each}}
      </ul>
    {{else}}
      <p id="no-products">No hay productos cargados todavía.</p>
    {{/if}}
  </div>

  <hr style="margin: 1.5rem 0; border-color: #1f2937;" />

  <h3>Crear producto (envía HTTP, actualiza por WebSocket)</h3>
  <form id="create-product-form">
    <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 0.75rem;">
      <div>
        <label for="title">Título</label>
        <input id="title" name="title" required />
      </div>
      <div>
        <label for="description">Descripción</label>
        <input id="description" name="description" required />
      </div>
      <div>
        <label for="code">Código</label>
        <input id="code" name="code" required />
      </div>
      <div>
        <label for="price">Precio</label>
        <input id="price" name="price" type="number" step="0.01" required />
      </div>
      <div>
        <label for="stock">Stock</label>
        <input id="stock" name="stock" type="number" required />
      </div>
      <div>
        <label for="category">Categoría</label>
        <input id="category" name="category" required />
      </div>
    </div>
    <div style="margin-top: 1rem;">
      <button type="submit" class="btn btn-primary">Crear producto</button>
    </div>
  </form>

  <hr style="margin: 1.5rem 0; border-color: #1f2937;" />

  <h3>Eliminar producto</h3>
  <form id="delete-product-form" style="display: flex; gap: 0.75rem; align-items: flex-end;">
    <div>
      <label for="deleteId">ID de producto</label>
      <input id="deleteId" name="id" type="number" required />
    </div>
    <button type="submit" class="btn btn-danger">Eliminar</button>
  </form>
</section>

